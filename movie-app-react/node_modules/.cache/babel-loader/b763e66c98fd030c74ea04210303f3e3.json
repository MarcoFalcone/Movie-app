{"ast":null,"code":"var _jsxFileName = \"/home/markrius/Desktop/React-movie-app/front/src/views/Homepage.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Context } from '..';\nimport Movielist from '../components/Movielist';\nimport '../styles/App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Homepage = () => {\n  _s();\n\n  const {\n    apiKey\n  } = useContext(Context);\n  const [isFetching, setIsFetching] = useState(true);\n  const [movies, setMovies] = useState({\n    popular: [],\n    favorites: [],\n    genres: {\n      action: [],\n      comedy: [],\n      horror: [],\n      romance: [],\n      scifi: [],\n      thriller: []\n    }\n  });\n\n  const getMovies = async () => {\n    const urlAction = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=28&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=true&page=1`;\n    const urlComedy = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=35&ssort_by=popularity.desc&language=en-US&include_adult=false&include_video=true&page=1`;\n    const urlHorror = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=27&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=true&page=1`;\n    const urlRomance = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=10749&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=true&page=1`;\n    const urlScifi = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=878&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=true&page=1`;\n    const urlThriller = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=53&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=true&page=1`;\n    const response_Action = await fetch(urlAction);\n    const responseJson_Action = await response_Action.json();\n    const response_Comedy = await fetch(urlComedy);\n    const responseJson_Comedy = await response_Comedy.json();\n    const response_Horror = await fetch(urlHorror);\n    const responseJson_Horror = await response_Horror.json();\n    const response_Romance = await fetch(urlRomance);\n    const responseJson_Romance = await response_Romance.json();\n    const response_Scifi = await fetch(urlScifi);\n    const responseJson_Scifi = await response_Scifi.json();\n    const response_Thriller = await fetch(urlThriller);\n    const responseJson_Thriller = await response_Thriller.json();\n    const urlMostPopular = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1`;\n    const response_MostPopular = await fetch(urlMostPopular);\n    const responseJson_MostPopular = await response_MostPopular.json();\n\n    if (responseJson_Action && responseJson_Comedy && responseJson_Horror && responseJson_Romance && responseJson_Scifi && responseJson_Thriller && responseJson_MostPopular !== null && responseJson_MostPopular !== void 0 && responseJson_MostPopular.results) {\n      setMovies({ ...movies,\n        popular: responseJson_MostPopular.results,\n        genres: {\n          action: responseJson_Action === null || responseJson_Action === void 0 ? void 0 : responseJson_Action.results,\n          comedy: responseJson_Comedy === null || responseJson_Comedy === void 0 ? void 0 : responseJson_Comedy.results,\n          horror: responseJson_Horror === null || responseJson_Horror === void 0 ? void 0 : responseJson_Horror.results,\n          romance: responseJson_Romance === null || responseJson_Romance === void 0 ? void 0 : responseJson_Romance.results,\n          scifi: responseJson_Scifi === null || responseJson_Scifi === void 0 ? void 0 : responseJson_Scifi.results,\n          thriller: responseJson_Thriller === null || responseJson_Thriller === void 0 ? void 0 : responseJson_Thriller.results\n        }\n      });\n    }\n\n    setIsFetching(false);\n  };\n\n  const getFavorites = async () => {\n    const res = await fetch('/api/movies/favorites');\n    const resJson = await res.json();\n    setMovies({ ...movies,\n      favorites: resJson\n    });\n  };\n\n  const {\n    popular,\n    genres,\n    favorites\n  } = movies;\n  const {\n    action,\n    comedy,\n    horror,\n    romance,\n    scifi,\n    thriller\n  } = genres;\n  const genresList = [{\n    title: 'Trending now',\n    items: popular,\n    id: 'popular'\n  }, {\n    title: 'Action',\n    items: action,\n    id: 'action'\n  }, {\n    title: 'Comedy',\n    items: comedy,\n    id: 'comedy'\n  }, {\n    title: 'Horror',\n    items: horror,\n    id: 'horroe'\n  }, {\n    title: 'Romance',\n    items: romance,\n    id: 'romance'\n  }, {\n    title: 'Sci-fi',\n    items: scifi,\n    id: 'scifi'\n  }, {\n    title: 'Thriller',\n    items: thriller,\n    id: 'thriller'\n  }, {\n    title: 'My list',\n    items: thriller,\n    id: 'myList'\n  }];\n  useEffect(() => {\n    getMovies();\n    getFavorites();\n  }, []);\n  return genresList.map(genre => /*#__PURE__*/_jsxDEV(Movielist, {\n    isFetching: isFetching,\n    title: genre.title,\n    movies: genre.items,\n    id: genre.id\n  }, genre.id, false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this));\n};\n\n_s(Homepage, \"Yw88wHq4apUp0ZxWGm0Avsk2j3A=\");\n\n_c = Homepage;\nexport default Homepage;\n\nvar _c;\n\n$RefreshReg$(_c, \"Homepage\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Context","Movielist","Homepage","apiKey","isFetching","setIsFetching","movies","setMovies","popular","favorites","genres","action","comedy","horror","romance","scifi","thriller","getMovies","urlAction","urlComedy","urlHorror","urlRomance","urlScifi","urlThriller","response_Action","fetch","responseJson_Action","json","response_Comedy","responseJson_Comedy","response_Horror","responseJson_Horror","response_Romance","responseJson_Romance","response_Scifi","responseJson_Scifi","response_Thriller","responseJson_Thriller","urlMostPopular","response_MostPopular","responseJson_MostPopular","results","getFavorites","res","resJson","genresList","title","items","id","map","genre"],"sources":["/home/markrius/Desktop/React-movie-app/front/src/views/Homepage.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Context } from '..';\nimport Movielist from '../components/Movielist';\n\nimport '../styles/App.css';\n\nconst Homepage = () => {\n  const { apiKey } = useContext(Context);\n  const [isFetching, setIsFetching] = useState(true);\n\n  const [movies, setMovies] = useState({\n    popular: [],\n    favorites: [],\n    genres: {\n      action : [],\n      comedy : [],\n      horror : [],\n      romance : [],\n      scifi : [],\n      thriller : [],\n    }\n  });\n\n  const getMovies = async () => {\n\n    const urlAction = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=28&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=true&page=1`;\n    const urlComedy = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=35&ssort_by=popularity.desc&language=en-US&include_adult=false&include_video=true&page=1`;\n    const urlHorror = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=27&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=true&page=1`;\n    const urlRomance = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=10749&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=true&page=1`;\n    const urlScifi = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=878&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=true&page=1`;\n    const urlThriller = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=53&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=true&page=1`;\n\n    const response_Action = await fetch(urlAction);\n    const responseJson_Action = await response_Action.json();\n\n    const response_Comedy = await fetch(urlComedy);\n    const responseJson_Comedy = await response_Comedy.json();\n\n    const response_Horror = await fetch(urlHorror);\n    const responseJson_Horror = await response_Horror.json();\n\n    const response_Romance = await fetch(urlRomance);\n    const responseJson_Romance = await response_Romance.json();\n\n    const response_Scifi = await fetch(urlScifi);\n    const responseJson_Scifi = await response_Scifi.json();\n\n    const response_Thriller = await fetch(urlThriller);\n    const responseJson_Thriller = await response_Thriller.json();\n\n    const urlMostPopular = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1`;\n    const response_MostPopular = await fetch(urlMostPopular);\n    const responseJson_MostPopular = await response_MostPopular.json();\n\n    if (responseJson_Action\n      && responseJson_Comedy\n      && responseJson_Horror\n      && responseJson_Romance\n      && responseJson_Scifi\n      && responseJson_Thriller\n      && responseJson_MostPopular?.results) {\n      setMovies({\n        ...movies,\n        popular: responseJson_MostPopular.results,\n        genres: {\n          action : responseJson_Action?.results,\n          comedy : responseJson_Comedy?.results,\n          horror : responseJson_Horror?.results,\n          romance : responseJson_Romance?.results,\n          scifi : responseJson_Scifi?.results,\n          thriller : responseJson_Thriller?.results,\n        }\n      });\n    }\n\n    setIsFetching(false);\n  };\n\n  const getFavorites = async () => {\n    const res = await fetch('/api/movies/favorites');\n    const resJson = await res.json();\n    setMovies({\n      ...movies,\n      favorites: resJson\n    });\n  };\n\n  const {\n    popular,\n    genres,\n    favorites,\n  } = movies;\n\n  const {\n    action,\n    comedy,\n    horror,\n    romance,\n    scifi,\n    thriller,\n  } = genres;\n\n  const genresList = [\n    {\n      title: 'Trending now',\n      items: popular,\n      id: 'popular'\n    },\n    {\n      title: 'Action',\n      items: action,\n      id: 'action'\n    },\n    {\n      title: 'Comedy',\n      items: comedy,\n      id: 'comedy'\n    },\n    {\n      title: 'Horror',\n      items: horror,\n      id: 'horroe'\n    },\n    {\n      title: 'Romance',\n      items: romance,\n      id: 'romance'\n    },\n    {\n      title: 'Sci-fi',\n      items: scifi,\n      id: 'scifi'\n    },\n    {\n      title: 'Thriller',\n      items: thriller,\n      id: 'thriller'\n    },\n    {\n      title: 'My list',\n      items: thriller,\n      id: 'myList'\n    }\n  ];\n\n  useEffect(() => {\n    getMovies();\n    getFavorites();\n  }, []);\n\n  return genresList.map((genre) => (\n    <Movielist\n      key={genre.id}\n      isFetching={isFetching}\n      title={genre.title}\n      movies={genre.items}\n      id={genre.id}\n    />\n  ));\n};\n\nexport default Homepage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}