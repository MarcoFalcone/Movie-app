{"ast":null,"code":"import _regeneratorRuntime from\"/home/markrius/Desktop/React-movie-app/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/markrius/Desktop/React-movie-app/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/markrius/Desktop/React-movie-app/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from'react';import{useParams}from'react-router-dom';import{Context}from'..';import MovieCard from'../components/MovieCard';import'../styles/Search.css';import{jsx as _jsx}from\"react/jsx-runtime\";var SearchPage=function SearchPage(){var _useContext=useContext(Context),apiKey=_useContext.apiKey;var _useParams=useParams(),search=_useParams.search;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var getSearched=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var urlSearch,response_Search,responseJson_Search;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:urlSearch=\"https://api.themoviedb.org/3/search/movie?api_key=\".concat(apiKey,\"&query=\").concat(search);_context.next=3;return fetch(urlSearch);case 3:response_Search=_context.sent;_context.next=6;return response_Search.json();case 6:responseJson_Search=_context.sent;if(responseJson_Search!==null&&responseJson_Search!==void 0&&responseJson_Search.results)setMovies(responseJson_Search.results);case 8:case\"end\":return _context.stop();}}},_callee);}));return function getSearched(){return _ref.apply(this,arguments);};}();useEffect(function(){getSearched();},[search]);return/*#__PURE__*/_jsx(\"div\",{className:\"gridPage\",children:movies!==null&&movies!==void 0&&movies.length?movies===null||movies===void 0?void 0:movies.map(function(movie,i){return/*#__PURE__*/_jsx(MovieCard,{isSearch:true,movie:movie},i);}):/*#__PURE__*/_jsx(\"h1\",{style:{color:'white',position:'absolute'},children:\"No movies found\"})});};export default SearchPage;","map":{"version":3,"names":["React","useContext","useEffect","useState","useParams","Context","MovieCard","SearchPage","apiKey","search","movies","setMovies","getSearched","urlSearch","fetch","response_Search","json","responseJson_Search","results","length","map","movie","i","color","position"],"sources":["/home/markrius/Desktop/React-movie-app/front/src/views/SearchPage.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Context } from '..';\nimport MovieCard from '../components/MovieCard';\n\nimport '../styles/Search.css';\n\nconst SearchPage = () => {\n  const { apiKey } = useContext(Context);\n  const { search } = useParams();\n  const [movies, setMovies] = useState([]);\n\n  const getSearched = async () => {\n    const urlSearch = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${search}`;\n    const response_Search = await fetch(urlSearch);\n    const responseJson_Search = await response_Search.json();\n    if (responseJson_Search?.results) setMovies(responseJson_Search.results);\n  };\n\n  useEffect(() => {\n    getSearched();\n  }, [search]);\n\n  return (\n    <div className='gridPage'>\n      {movies?.length ? movies?.map((movie, i) => (\n        <MovieCard isSearch key={i} movie={movie} />\n      )) : <h1 style={{ color: 'white', position: 'absolute' }}>No movies found</h1>}\n    </div>\n  );\n};\n\nexport default SearchPage;\n"],"mappings":"sZAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,SAA5B,CAAuCC,QAAvC,KAAuD,OAAvD,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,OAASC,OAAT,KAAwB,IAAxB,CACA,MAAOC,UAAP,KAAsB,yBAAtB,CAEA,MAAO,sBAAP,C,2CAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CACvB,gBAAmBN,UAAU,CAACI,OAAD,CAA7B,CAAQG,MAAR,aAAQA,MAAR,CACA,eAAmBJ,SAAS,EAA5B,CAAQK,MAAR,YAAQA,MAAR,CACA,cAA4BN,QAAQ,CAAC,EAAD,CAApC,wCAAOO,MAAP,eAAeC,SAAf,eAEA,GAAMC,YAAW,4FAAG,uLACZC,SADY,6DACqDL,MADrD,mBACqEC,MADrE,wBAEYK,MAAK,CAACD,SAAD,CAFjB,QAEZE,eAFY,qCAGgBA,gBAAe,CAACC,IAAhB,EAHhB,QAGZC,mBAHY,eAIlB,GAAIA,mBAAJ,SAAIA,mBAAJ,WAAIA,mBAAmB,CAAEC,OAAzB,CAAkCP,SAAS,CAACM,mBAAmB,CAACC,OAArB,CAAT,CAJhB,sDAAH,kBAAXN,YAAW,0CAAjB,CAOAV,SAAS,CAAC,UAAM,CACdU,WAAW,GACZ,CAFQ,CAEN,CAACH,MAAD,CAFM,CAAT,CAIA,mBACE,YAAK,SAAS,CAAC,UAAf,UACGC,MAAM,OAAN,EAAAA,MAAM,SAAN,EAAAA,MAAM,CAAES,MAAR,CAAiBT,MAAjB,SAAiBA,MAAjB,iBAAiBA,MAAM,CAAEU,GAAR,CAAY,SAACC,KAAD,CAAQC,CAAR,qBAC5B,KAAC,SAAD,EAAW,QAAQ,KAAnB,CAA4B,KAAK,CAAED,KAAnC,EAAyBC,CAAzB,CAD4B,EAAZ,CAAjB,cAEI,WAAI,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAT,CAAkBC,QAAQ,CAAE,UAA5B,CAAX,6BAHP,EADF,CAOD,CAvBD,CAyBA,cAAejB,WAAf"},"metadata":{},"sourceType":"module"}