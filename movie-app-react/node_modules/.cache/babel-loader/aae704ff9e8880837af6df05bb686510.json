{"ast":null,"code":"var _jsxFileName = \"/home/markrius/Desktop/React-movie-app/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport Homepage from './views/Homepage';\nimport SearchPage from \"./views/SearchPage\";\nimport { BrowserRouter, Switch, Route, Redirect, useHistory } from \"react-router-dom\";\nimport Searchbox from \"./components/Searchbox\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [search, setSearch] = useState(\"\");\n  const [isFetching, setIsFetching] = useState(true);\n  const [movies, setMovies] = useState({\n    popular: [],\n    searched: [],\n    genres: {\n      action: [],\n      comedy: [],\n      horror: [],\n      romance: [],\n      scifi: [],\n      thriller: []\n    }\n  });\n  const history = useHistory();\n  const apiKey = \"77de0ebb8c18224df76cf38477a907f5\";\n\n  const getSearched = async () => {\n    const urlSearch = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${search}`;\n    const response_Search = await fetch(urlSearch);\n    const responseJson_Search = await response_Search.json();\n    if (responseJson_Search !== null && responseJson_Search !== void 0 && responseJson_Search.results) setMovies({ ...movies,\n      searched: responseJson_Search.results\n    });\n  };\n\n  const getMovies = async () => {\n    const urlAction = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=28&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=false&page=1%22`;\n    const urlComedy = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=35&ssort_by=popularity.desc&language=en-US&include_adult=false&include_video=false&page=1%22`;\n    const urlHorror = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=27&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=false&page=1%22`;\n    const urlRomance = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=10749&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=false&page=1%22`;\n    const urlScifi = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=878&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=false&page=1%22`;\n    const urlThriller = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=53&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=false&page=1%22`;\n    const response_Action = await fetch(urlAction);\n    const responseJson_Action = await response_Action.json();\n    const response_Comedy = await fetch(urlComedy);\n    const responseJson_Comedy = await response_Comedy.json();\n    const response_Horror = await fetch(urlHorror);\n    const responseJson_Horror = await response_Horror.json();\n    const response_Romance = await fetch(urlRomance);\n    const responseJson_Romance = await response_Romance.json();\n    const response_Scifi = await fetch(urlScifi);\n    const responseJson_Scifi = await response_Scifi.json();\n    const response_Thriller = await fetch(urlThriller);\n    const responseJson_Thriller = await response_Thriller.json();\n    const urlMostPopular = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1`;\n    const response_MostPopular = await fetch(urlMostPopular);\n    const responseJson_MostPopular = await response_MostPopular.json();\n\n    if (responseJson_Action && responseJson_Comedy && responseJson_Horror && responseJson_Romance && responseJson_Scifi && responseJson_Thriller && responseJson_MostPopular !== null && responseJson_MostPopular !== void 0 && responseJson_MostPopular.results) {\n      setMovies({ ...movies,\n        popular: responseJson_MostPopular.results,\n        genres: {\n          action: responseJson_Action === null || responseJson_Action === void 0 ? void 0 : responseJson_Action.results,\n          comedy: responseJson_Comedy === null || responseJson_Comedy === void 0 ? void 0 : responseJson_Comedy.results,\n          horror: responseJson_Horror === null || responseJson_Horror === void 0 ? void 0 : responseJson_Horror.results,\n          romance: responseJson_Romance === null || responseJson_Romance === void 0 ? void 0 : responseJson_Romance.results,\n          scifi: responseJson_Scifi === null || responseJson_Scifi === void 0 ? void 0 : responseJson_Scifi.results,\n          thriller: responseJson_Thriller === null || responseJson_Thriller === void 0 ? void 0 : responseJson_Thriller.results\n        }\n      });\n    }\n\n    setIsFetching(false);\n  };\n\n  useEffect(() => {\n    getMovies();\n  }, []);\n  useEffect(() => {\n    if (search) {\n      getSearched();\n      history.push(\"/search\");\n    } else {\n      history.push(\"/\");\n    }\n  }, [search]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mainWrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"topBar\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"logo\",\n        src: \"logo.svg\",\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Searchbox, {\n        search: search,\n        setSearch: setSearch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        children: /*#__PURE__*/_jsxDEV(Homepage, {\n          movies: movies,\n          isFetching: isFetching\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/search\",\n        children: /*#__PURE__*/_jsxDEV(SearchPage, {\n          movies: movies.searched\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: \"Work by Marco Falcone\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"1x8udgr7QYFky7DYYw4AmU8Xo3I=\", false, function () {\n  return [useHistory];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Homepage","SearchPage","BrowserRouter","Switch","Route","Redirect","useHistory","Searchbox","App","search","setSearch","isFetching","setIsFetching","movies","setMovies","popular","searched","genres","action","comedy","horror","romance","scifi","thriller","history","apiKey","getSearched","urlSearch","response_Search","fetch","responseJson_Search","json","results","getMovies","urlAction","urlComedy","urlHorror","urlRomance","urlScifi","urlThriller","response_Action","responseJson_Action","response_Comedy","responseJson_Comedy","response_Horror","responseJson_Horror","response_Romance","responseJson_Romance","response_Scifi","responseJson_Scifi","response_Thriller","responseJson_Thriller","urlMostPopular","response_MostPopular","responseJson_MostPopular","push"],"sources":["/home/markrius/Desktop/React-movie-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Homepage from './views/Homepage';\nimport SearchPage from \"./views/SearchPage\"\nimport { BrowserRouter, Switch, Route, Redirect, useHistory } from \"react-router-dom\";\nimport Searchbox from \"./components/Searchbox\"\n\nconst App = () => {\n  const [search, setSearch] = useState(\"\")\n  const [isFetching, setIsFetching] = useState(true)\n\n  const [movies, setMovies] = useState({\n    popular: [],\n    searched: [],\n    genres: {\n      action : [],\n      comedy : [],\n      horror : [],\n      romance : [],\n      scifi : [],\n      thriller : [],\n    }\n  })\n\n  const history = useHistory()\n\n  const apiKey = \"77de0ebb8c18224df76cf38477a907f5\";\n\n  const getSearched = async () => {\n    const urlSearch = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${search}`;\n    const response_Search = await fetch(urlSearch);\n    const responseJson_Search = await response_Search.json();\n    if (responseJson_Search?.results) setMovies({\n      ...movies,\n      searched: responseJson_Search.results\n    })\n  }\n\n  const getMovies = async () => {\n\n    const urlAction = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=28&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=false&page=1%22`;\n    const urlComedy = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=35&ssort_by=popularity.desc&language=en-US&include_adult=false&include_video=false&page=1%22`;\n    const urlHorror = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=27&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=false&page=1%22`;\n    const urlRomance = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=10749&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=false&page=1%22`;\n    const urlScifi = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=878&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=false&page=1%22`;\n    const urlThriller = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&with_genres=53&sort_by=popularity.desc&language=en-US&include_adult=false&include_video=false&page=1%22`;\n\n    const response_Action = await fetch(urlAction);\n    const responseJson_Action = await response_Action.json();\n\n    const response_Comedy = await fetch(urlComedy);\n    const responseJson_Comedy = await response_Comedy.json();\n\n    const response_Horror = await fetch(urlHorror);\n    const responseJson_Horror = await response_Horror.json();\n\n    const response_Romance = await fetch(urlRomance);\n    const responseJson_Romance = await response_Romance.json();\n\n    const response_Scifi = await fetch(urlScifi);\n    const responseJson_Scifi = await response_Scifi.json();\n\n    const response_Thriller = await fetch(urlThriller);\n    const responseJson_Thriller = await response_Thriller.json();\n\n    const urlMostPopular = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&language=en-US&sort_by=popularity.desc&include_adult=false&include_video=false&page=1`;\n    const response_MostPopular = await fetch(urlMostPopular);\n    const responseJson_MostPopular = await response_MostPopular.json();\n\n    if (responseJson_Action\n      && responseJson_Comedy\n      && responseJson_Horror\n      && responseJson_Romance\n      && responseJson_Scifi\n      && responseJson_Thriller\n      && responseJson_MostPopular?.results) {\n        setMovies({\n          ...movies,\n          popular: responseJson_MostPopular.results,\n          genres: {\n            action : responseJson_Action?.results,\n            comedy : responseJson_Comedy?.results,\n            horror : responseJson_Horror?.results,\n            romance : responseJson_Romance?.results,\n            scifi : responseJson_Scifi?.results,\n            thriller : responseJson_Thriller?.results,\n          }\n        })\n      }\n\n      setIsFetching(false)\n  }\n\n  useEffect(() => {\n    getMovies();\n  }, [])\n\n  useEffect(() => {\n    if (search) {\n      getSearched();\n      history.push(\"/search\");\n    } else {\n      history.push(\"/\")\n    }\n  }, [search])\n\n  return (\n    <div className='mainWrapper'>\n    <div className=\"topBar\">\n      <img className=\"logo\" src=\"logo.svg\" alt=\"\" />\n      <Searchbox search={search} setSearch={setSearch} />\n    </div>\n      <Switch>\n        <Route path=\"/\">\n          <Homepage movies={movies} isFetching={isFetching} />\n        </Route>\n        <Route path=\"/search\">\n          <SearchPage movies={movies.searched} />\n        </Route>\n      </Switch>\n    <footer>Work by Marco Falcone</footer>\n    </div>\n  )\n}\n\nexport default App\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}